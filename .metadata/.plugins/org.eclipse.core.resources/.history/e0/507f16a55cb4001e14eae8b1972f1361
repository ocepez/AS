package sportsDAO;

import java.sql.Connection;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;

import donnees.Sport;
import donnees.Sportif;

public class DAO_JPA_Sportif extends DAO<Sportif> {

	
	
    private Connection connection = null;
    private EntityManager em = null;

	public DAO_JPA_Sportif() throws DAOException {
		super();
        this.connection = SQLConnection.getConnection();
	}
	
	public EntityManager getEntityManager() {
		if(em == null) {
		      EntityManagerFactory emf = Persistence.createEntityManagerFactory("SportsPU");
		      EntityManager em = emf.createEntityManager();
		      
		}
		return em;
	}

	@Override
	public Sportif find(int id) throws DAOException {
        return em.find(Sportif.class, id);
	}

	@Override
	public void create(Sportif disc) throws DAOException {
		em.persist(disc);
	}

	@Override
	public void update(Sportif disc) throws DAOException {
		em.persist(disc);	
	}

	@Override
	public void delete(Sportif disc) throws DAOException {
		em.remove(disc);			
	}

}
