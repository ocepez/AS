package sportsDAO;

import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.HashSet;
import java.util.Iterator;
import java.util.Set;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;

import donnees.Discipline;
import donnees.Sport;
import donnees.Sportif;

public class DAO_JPA_Discipline extends DAO_JPA<Discipline>{

	
    private Connection connection = null;
    private EntityManager em = null;

	public DAO_JPA_Discipline() throws DAOException {
		super();
        this.connection = SQLConnection.getConnection();
        getEntityManager();
	}
	
	public EntityManager getEntityManager() {
		if(em == null) {
		      EntityManagerFactory emf = Persistence.createEntityManagerFactory("SportsPU");
		      EntityManager em = emf.createEntityManager();
		      
		}
		return em;
	}

	@Override
	public Discipline find(int id) throws DAOException {
        return em.find(Discipline.class, id);
	}

	@Override
	public void create(Discipline disc) throws DAOException {
		em.persist(disc);
	}

	@Override
	public void update(Discipline disc) throws DAOException {
		em.persist(disc);	
	}

	@Override
	public void delete(Discipline disc) throws DAOException {
		em.remove(disc);			
	}

}
